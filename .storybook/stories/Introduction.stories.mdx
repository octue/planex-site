import { Meta } from '@storybook/addon-docs/blocks'

<Meta title="Introduction" />

# Introduction

## Theme

We use the Material theme and styling system. You can use any of the components, they provide really useful elements
like Paper, Typography, Buttons, Form Inputs and a wide variety of other elements

- TYPOGRAPHY [variants](https://material-ui.com/components/typography/) and [customisation](https://material-ui.com/customization/palette/)
- [PALETTE](https://material-ui.com/customization/palette/)
- PLUGINS for [sketch](https://material-ui.com/store/items/sketch-react/) and [figma](https://material-ui.com/store/items/figma-react/)

We've set the site up with a dark and a light theme. You can **change the storybook theme from light to dark** by using the controls panel at the bottom of the storybook.

## Storybook

This is the storybook, which shows:
- components used to build the site and how to use them
- the theme as applied to the components

Storybook helps you build UI components in isolation from your app's business logic, data, and context.
That makes it easy to develop hard-to-reach states. Save these UI states as **stories** to revisit during development, testing, or QA.

We recommend building UIs with a [**component-driven**](https://componentdriven.org) process starting with atomic components and ending with pages.

## Website Stack

PlanEx is Octue's front-end and marketing website.
We found it was surprisingly hard to get a complete end-to-end website set up and working:

 - WordPress is OK but and a nightmare to maintain, as well as having a load of legacy crap.
 - Wix and similar are fine until you actually have to do something with your site in terms of adding actions and so on.
 - We're sick of paying for a website to be redesigned each time we need a facelift. We want something that evolves with us.
 - Various Jamstack solutions are promising but result in unnecessarily complicated code; they're often not built with
 best practices in mind.
 - No solutions we've found use a properly parameterised theme and component library like
 [Material-UI](https://material-ui.com/)... We want to be able to carry the same theme across all our sites and
 applications, and if we change an aspect, we want to change it in one place, not thousands.
 - Third parties like CRM solutions may not integrate well with whatever frontend solution you're working with. I mean,
 how hard is it to create a support ticket when somebody submits a contact form?! Pretty hard, as it turns out...
 especially if you want the styling to match the rest of your site, and you want to do proper error handling etc.

So that's why we built planex-site. It uses:

- Gatsby Cloud to build and deploy the site, which is hosted on a public bucket on Google Cloud.
- Chromatic to build and deploy the storybook.
- Google Cloud Functions to receive form submissions and do whatever we want with them.


## Fixtures

We use fixtures (see the `src/fixtures` folder) to provide data for the storybook,
since we don't want it coupled to gatsby's querying system and the actual CMS.

As new models are added in Dato CMS, we need fixtures for those models in order to
render the storybook.

### Exporting Fixtures

1. Run `yarn start` which puts gatsby into development mode.

1. In the page you want to get fixtures for, do:
    ```
    const MyPageComponent = ({data}) => {
      console.log('PAGE DATA', JSON.stringify(data))

      // ... rest of component
    }
    ```

1. Then copy the json string directly from the console to the fixture file you want.
