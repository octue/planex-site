## Planex: Octue website

This repository ([planex-site](https://github.com/octue/planex-site)) is for developing the front-end components and
pages of the octue website.

See also [planex-cms](https://github.com/octue/planex-cms) for a content management system. **Currently not
integrated here.**

## 🚀 Quick start

1.  **Check out the code locally**

    Use `git clone` or GitHub desktop.
    
1.  ** Install pre-commit**

    Install the program - see https://pre-commit.com/ for instructions on how.
    Then do:
    ```
    pre-commit install
    ```

1.  **Make sure you have node and yarn installed**

    On a mac, that looks like:

    ```shell
    brew install node
    brew install yarn
    ```

1.  **Install dependencies**

    _IMPORTANT: Always use `yarn` instead of `npm`. Lots of tutorials will use npm; simply replace that for yarn._

    ```shell
    yarn install
    ```

1.  **EITHER: Start the storybook to develop individual components/pages**

    ```shell
    yarn storybook
    ```

    Your storybook is now running at [http://localhost:6006](http://localhost:6006)!
    Any saved changes will update in real time in the browser ("hot reloading").

    _Note that you'll need to restart after adding or removing stories._

1.  **AND/OR: Start the gatsby reloader to preview the whole site**

    ```shell
    yarn start
    ```

    Your site is now running at [http://localhost:8000](http://localhost:8000)!
    Any saved changes will update in real time in the browser ("hot reloading")!

    \_Note: You'll also see a second link: [http://localhost:8000/\_\_\_graphql](http://localhost:8000/___graphql). This is a tool you can use to experiment with querying your data. Learn more about using this tool in the [Gatsby tutorial](https://www.gatsbyjs.com/tutorial/part-five/#introducing-graphiql).\_

## 💫 Workflow

### ⛏️ Make changes

Check out a new branch:

```
# Check the .pre-commit-config.yaml file for valid patterns
git checkout -b feature/my-new-feature
```

Make and save any edits you need, using either the storybook or the gatsby reloader from above.

Commit your changes regularly and in a granular way with an informative message:

```
git commit <file> -m "FIX updated copyright string"
```

Push your changes to GitHub:

```
git push
```

### 🙈 Preview builds for colleagues

Making a pull request into base `main` will:

- build and publish a preview using Gatsby Cloud
- run lighthouse checks to monitor site performance and accessibility

Pushing new commits to that open pull request will:

- update the review and lighthouse report on every commit to your branch.

### 🤖 Deploy

Merging your PR into `main` will deploy the site live.

## 🧐 What's all this stuff?

A quick look at the top-level files and directories.

    .
    ├── node_modules
    ├── src
    ├── .gitignore
    ├── .prettierrc
    ├── gatsby-config.js
    ├── LICENSE
    ├── yarn.lock
    ├── package.json
    └── README.md

1.  **`/node_modules`**: This directory contains all of the modules of code that your project depends on (npm packages), installed by `yarn`.

1.  **`/src`**: This directory will contain all of the code related to what you will see on the front-end of your site (what you see in the browser) such as your site header or a page template. `src` is a convention for “source code”.

1.  **`.gitignore`**: This file tells git which files it should not track / not maintain a version history for.

1.  **`.prettierrc`**: This is a configuration file for [Prettier](https://prettier.io/). Prettier is a tool to help keep the formatting of your code consistent.

1.  **`gatsby-config.js`**: This is the main configuration file for a Gatsby site. This is where you can specify information about your site (metadata) like the site title and description, which Gatsby plugins you’d like to include, etc. (Check out the [config docs](https://www.gatsbyjs.com/docs/gatsby-config/) for more detail).

1.  **`package.json`**: A manifest file for Node.js projects, which includes things like metadata (the project’s name, author, etc). This manifest is how `yarn` knows which packages to install for your project.

1.  **`yarn.lock`**: Autogenerated by the `yarn` tool. This locks dependencies, helping create build consistency.

## 🎓 Learning Gatsby

Looking for more guidance? Full documentation for Gatsby lives [on the website](https://www.gatsbyjs.com/). Here are some places to start:

- **For most developers, we recommend starting with our [in-depth tutorial for creating a site with Gatsby](https://www.gatsbyjs.com/tutorial/).** It starts with zero assumptions about your level of ability and walks through every step of the process.

- **To dive straight into code samples, head [to our documentation](https://www.gatsbyjs.com/docs/).** In particular, check out the _Guides_, _API Reference_, and _Advanced Tutorials_ sections in the sidebar.
